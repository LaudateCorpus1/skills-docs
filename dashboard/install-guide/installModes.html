<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Installation Modes | SkillTree Docs</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/skills-docs/img/skills.ico">
    <meta name="description" content="Innovative approach to application training!">
    <link rel="preload" href="/skills-docs/assets/css/0.styles.5e515c4b.css" as="style"><link rel="preload" href="/skills-docs/assets/js/app.70249f58.js" as="script"><link rel="preload" href="/skills-docs/assets/js/2.bc887105.js" as="script"><link rel="preload" href="/skills-docs/assets/js/33.6dcf24ef.js" as="script"><link rel="prefetch" href="/skills-docs/assets/js/10.94bb9ce9.js"><link rel="prefetch" href="/skills-docs/assets/js/11.b8a5eb7b.js"><link rel="prefetch" href="/skills-docs/assets/js/12.8e5b4b99.js"><link rel="prefetch" href="/skills-docs/assets/js/13.09f5f7c8.js"><link rel="prefetch" href="/skills-docs/assets/js/14.eafac4e9.js"><link rel="prefetch" href="/skills-docs/assets/js/15.259f376c.js"><link rel="prefetch" href="/skills-docs/assets/js/16.ea70cd76.js"><link rel="prefetch" href="/skills-docs/assets/js/17.bcfb7dc6.js"><link rel="prefetch" href="/skills-docs/assets/js/18.e41c9cb6.js"><link rel="prefetch" href="/skills-docs/assets/js/19.42d942ac.js"><link rel="prefetch" href="/skills-docs/assets/js/20.a7c64421.js"><link rel="prefetch" href="/skills-docs/assets/js/21.13f69704.js"><link rel="prefetch" href="/skills-docs/assets/js/22.2c873dd2.js"><link rel="prefetch" href="/skills-docs/assets/js/23.8d09abe5.js"><link rel="prefetch" href="/skills-docs/assets/js/24.07bd7fe5.js"><link rel="prefetch" href="/skills-docs/assets/js/25.c50fb042.js"><link rel="prefetch" href="/skills-docs/assets/js/26.e89e8e0d.js"><link rel="prefetch" href="/skills-docs/assets/js/27.c137974c.js"><link rel="prefetch" href="/skills-docs/assets/js/28.9b9ad401.js"><link rel="prefetch" href="/skills-docs/assets/js/29.ded63cf6.js"><link rel="prefetch" href="/skills-docs/assets/js/3.3f7d92a2.js"><link rel="prefetch" href="/skills-docs/assets/js/30.b16f77fa.js"><link rel="prefetch" href="/skills-docs/assets/js/31.6a41afd6.js"><link rel="prefetch" href="/skills-docs/assets/js/32.057b2844.js"><link rel="prefetch" href="/skills-docs/assets/js/34.c6c11a2f.js"><link rel="prefetch" href="/skills-docs/assets/js/35.d496cc9d.js"><link rel="prefetch" href="/skills-docs/assets/js/36.74e7241e.js"><link rel="prefetch" href="/skills-docs/assets/js/37.7bed3ccd.js"><link rel="prefetch" href="/skills-docs/assets/js/38.87b28d9b.js"><link rel="prefetch" href="/skills-docs/assets/js/39.a20d4f79.js"><link rel="prefetch" href="/skills-docs/assets/js/4.f8da74d0.js"><link rel="prefetch" href="/skills-docs/assets/js/40.ee3d8954.js"><link rel="prefetch" href="/skills-docs/assets/js/41.917e5e19.js"><link rel="prefetch" href="/skills-docs/assets/js/42.62a3b3db.js"><link rel="prefetch" href="/skills-docs/assets/js/43.e0068197.js"><link rel="prefetch" href="/skills-docs/assets/js/44.297b6f25.js"><link rel="prefetch" href="/skills-docs/assets/js/45.d1da7401.js"><link rel="prefetch" href="/skills-docs/assets/js/46.f02919c3.js"><link rel="prefetch" href="/skills-docs/assets/js/47.d2bd240f.js"><link rel="prefetch" href="/skills-docs/assets/js/48.076efb9f.js"><link rel="prefetch" href="/skills-docs/assets/js/49.b3458fad.js"><link rel="prefetch" href="/skills-docs/assets/js/5.8d1365da.js"><link rel="prefetch" href="/skills-docs/assets/js/50.93cb32cc.js"><link rel="prefetch" href="/skills-docs/assets/js/51.d8358671.js"><link rel="prefetch" href="/skills-docs/assets/js/52.ed1888b6.js"><link rel="prefetch" href="/skills-docs/assets/js/53.75ae66af.js"><link rel="prefetch" href="/skills-docs/assets/js/54.8ffd2159.js"><link rel="prefetch" href="/skills-docs/assets/js/55.d86f60c7.js"><link rel="prefetch" href="/skills-docs/assets/js/56.c69cfcce.js"><link rel="prefetch" href="/skills-docs/assets/js/57.fe7be3a9.js"><link rel="prefetch" href="/skills-docs/assets/js/58.a602004c.js"><link rel="prefetch" href="/skills-docs/assets/js/59.9c2a347a.js"><link rel="prefetch" href="/skills-docs/assets/js/6.154d2aa5.js"><link rel="prefetch" href="/skills-docs/assets/js/60.07de50b1.js"><link rel="prefetch" href="/skills-docs/assets/js/61.c1f60300.js"><link rel="prefetch" href="/skills-docs/assets/js/62.1a3ed824.js"><link rel="prefetch" href="/skills-docs/assets/js/63.c422f422.js"><link rel="prefetch" href="/skills-docs/assets/js/64.e8119932.js"><link rel="prefetch" href="/skills-docs/assets/js/65.9afaa3cc.js"><link rel="prefetch" href="/skills-docs/assets/js/66.effd4268.js"><link rel="prefetch" href="/skills-docs/assets/js/67.499d51f2.js"><link rel="prefetch" href="/skills-docs/assets/js/68.5fa601b1.js"><link rel="prefetch" href="/skills-docs/assets/js/69.ffc215e2.js"><link rel="prefetch" href="/skills-docs/assets/js/7.f138bb68.js"><link rel="prefetch" href="/skills-docs/assets/js/70.6ccd0d0c.js"><link rel="prefetch" href="/skills-docs/assets/js/71.b1bb4935.js"><link rel="prefetch" href="/skills-docs/assets/js/8.868f6853.js"><link rel="prefetch" href="/skills-docs/assets/js/9.6d95bbf6.js">
    <link rel="stylesheet" href="/skills-docs/assets/css/0.styles.5e515c4b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/skills-docs/" class="home-link router-link-active"><!----> <span class="site-name">SkillTree Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/skills-docs/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/skills-docs/dashboard/install-guide/" class="nav-link router-link-active">
  Install Guide
</a></div><div class="nav-item"><a href="/skills-docs/dashboard/user-guide/" class="nav-link">
  Dashboard User Guide
</a></div><div class="nav-item"><a href="/skills-docs/skills-client/" class="nav-link">
  Integration Guide
</a></div><div class="nav-item"><a href="/skills-docs/contribution/" class="nav-link">
  Contribute
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/skills-docs/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/skills-docs/dashboard/install-guide/" class="nav-link router-link-active">
  Install Guide
</a></div><div class="nav-item"><a href="/skills-docs/dashboard/user-guide/" class="nav-link">
  Dashboard User Guide
</a></div><div class="nav-item"><a href="/skills-docs/skills-client/" class="nav-link">
  Integration Guide
</a></div><div class="nav-item"><a href="/skills-docs/contribution/" class="nav-link">
  Contribute
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/skills-docs/overview/" class="sidebar-link">Overview</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Install Guide</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/skills-docs/dashboard/install-guide/" aria-current="page" class="sidebar-link">Overview</a></li><li><a href="/skills-docs/dashboard/install-guide/quickStart.html" class="sidebar-link">Quick Start</a></li><li><a href="/skills-docs/dashboard/install-guide/config.html" class="sidebar-link">Configuration</a></li><li><a href="/skills-docs/dashboard/install-guide/database.html" class="sidebar-link">Database</a></li><li><a href="/skills-docs/dashboard/install-guide/installModes.html" aria-current="page" class="active sidebar-link">Installation Modes</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/skills-docs/dashboard/install-guide/installModes.html#password-auth-mode" class="sidebar-link">Password Auth Mode</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/skills-docs/dashboard/install-guide/installModes.html#oauth-support" class="sidebar-link">OAuth Support</a></li></ul></li><li class="sidebar-sub-header"><a href="/skills-docs/dashboard/install-guide/installModes.html#pki-auth-mode" class="sidebar-link">PKI Auth Mode</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Dashboard User Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Integration Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Open Source Contributions</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="installation-modes"><a href="#installation-modes" class="header-anchor">#</a> Installation Modes</h1> <p>The Skill Tree dashboard application supports two separate modes of authentication.  The dashboard can be configured for password based authentication, <em>or</em>, PKI based authentication.</p> <h2 id="password-auth-mode"><a href="#password-auth-mode" class="header-anchor">#</a> Password Auth Mode</h2> <p>When configured for password based authentication, users will need to manually create a Skill Tree account by clicking on the &quot;Sign Up&quot; link on the main login page.  After creating an account, users can login using the username and password that was used when creating the account.</p> <p>Password Auth Mode is enabled by default, or can be explicitly enabled by setting the following property:</p> <p><code>skills.authorization.authMode=FORM</code></p> <h3 id="oauth-support"><a href="#oauth-support" class="header-anchor">#</a> OAuth Support</h3> <p>When using Password Auth Mode, the dashboard can also support OAuth2 based authentication.  Currently, OAuth2 is only supported for Google and GitHub user accounts.  Google and/or GitHub login buttons get automatically added to the Login page when configured.  To configure, you will need a client ID and client Secret credentials.  These credentials can be created and managed through the providers OAuth management pages found here: <a href="https://console.developers.google.com/apis/credentials" target="_blank" rel="noopener noreferrer">Google<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and <a href="https://github.com/settings/developers" target="_blank" rel="noopener noreferrer">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>Once the client ID and secret are setup, they are enabled by adding the following configuration to the application.yml file:</p> <div class="language- extra-class"><pre class="language-text"><code>  security:
    oauth2:
      client:
        registration:
          google:
            client-id: &lt;Google client id here&gt;
            client-secret: &lt;Google client secret here&gt;
            redirectUriTemplate: 'http://localhost:8080/{action}/oauth2/code/{registrationId}'
            iconClass: fab fa-google
          github:
            client-id: &lt;GitHub client id here&gt;
            client-secret: &lt;GitHub client secret here&gt;
            redirectUriTemplate: 'http://localhost:8080/{action}/oauth2/code/{registrationId}'
            iconClass: fab fa-github
</code></pre></div><p>Note: Replace localhost:8080 with the actual hostname and port where the Skill Tree dashboard is running.</p> <p>Excluding either one of the Google or GitHub configuration sections will prevent the respective OAuth login button from being added to the Login page.</p> <h2 id="pki-auth-mode"><a href="#pki-auth-mode" class="header-anchor">#</a> PKI Auth Mode</h2> <p>When configured for PKI based authentication, the user's browser must be setup with a personal PKI certificate and that certificate must be issued by a Certificate Authority trusted in the dashboard application's truststore.</p> <p>To enable PKI Auth Mode, set the following configuration property:
<code>skills.authorization.authMode=PKI</code></p> <p>Additionally, the dashboard must be configured with an external &quot;User Info Service&quot;.  The User Info Service will need to provide REST based endpoints that can return user information for the client certificate's Distinguished Name (DN).  The User Info Service is configured by adding the following configuration properties:</p> <div class="language- extra-class"><pre class="language-text"><code>skills.authorization.userInfoUri=http://localhost:9090/userInfo?dn={dn}&quot;
skills.authorization.userQueryUri=http://localhost:9090/userQuery?query={query}&quot;
skills.authorization.userInfoHealthCheckUri=http://localhost:9090/actuator/health
</code></pre></div><p>Note: Replace localhost:9090 with the actual hostname and port where the user info service is running.</p> <p>The userInfoUri endpoint must return valid JSON with the following properties for a given user's DN:</p> <div class="language-js extra-class"><pre class="language-js"><code>    String firstName
    String lastName
    String nickname
    String email
    String username
    String usernameForDisplay
    String userDn
</code></pre></div><p>The userQueryUri must retun a list of the above JSON objects for user DN's that meet the query criteria.</p> <p>The userInfoHealthCheckUri endpoint should return the following JSON object:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span><span class="token string">&quot;status&quot;</span><span class="token operator">:</span><span class="token string">&quot;UP&quot;</span><span class="token punctuation">}</span>

</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/8/2020, 12:56:45 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/skills-docs/dashboard/install-guide/database.html" class="prev">
        Database
      </a></span> <span class="next"><a href="/skills-docs/dashboard/user-guide/">
        Overview
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/skills-docs/assets/js/app.70249f58.js" defer></script><script src="/skills-docs/assets/js/2.bc887105.js" defer></script><script src="/skills-docs/assets/js/33.6dcf24ef.js" defer></script>
  </body>
</html>
