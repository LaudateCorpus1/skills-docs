<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Configuration | SkillTree Docs</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/skills-docs/img/skilltree.ico">
    <meta name="description" content="Innovative approach to application training!">
    <link rel="preload" href="/skills-docs/assets/css/0.styles.09b6ee83.css" as="style"><link rel="preload" href="/skills-docs/assets/js/app.effe5c7a.js" as="script"><link rel="preload" href="/skills-docs/assets/js/2.fee212d9.js" as="script"><link rel="preload" href="/skills-docs/assets/js/44.251040f8.js" as="script"><link rel="preload" href="/skills-docs/assets/js/26.ea6a84f3.js" as="script"><link rel="preload" href="/skills-docs/assets/js/40.c215b94e.js" as="script"><link rel="preload" href="/skills-docs/assets/js/41.8dc17d7f.js" as="script"><link rel="preload" href="/skills-docs/assets/js/42.56b65437.js" as="script"><link rel="preload" href="/skills-docs/assets/js/43.b7e73091.js" as="script"><link rel="preload" href="/skills-docs/assets/js/34.449249da.js" as="script"><link rel="prefetch" href="/skills-docs/assets/js/10.711c18bf.js"><link rel="prefetch" href="/skills-docs/assets/js/11.53b9deaf.js"><link rel="prefetch" href="/skills-docs/assets/js/12.df0553a3.js"><link rel="prefetch" href="/skills-docs/assets/js/13.9ce962e4.js"><link rel="prefetch" href="/skills-docs/assets/js/14.74010968.js"><link rel="prefetch" href="/skills-docs/assets/js/15.07c3973e.js"><link rel="prefetch" href="/skills-docs/assets/js/16.72cca907.js"><link rel="prefetch" href="/skills-docs/assets/js/17.4a5cf806.js"><link rel="prefetch" href="/skills-docs/assets/js/18.963cd090.js"><link rel="prefetch" href="/skills-docs/assets/js/19.41e5cf34.js"><link rel="prefetch" href="/skills-docs/assets/js/20.a62a5e42.js"><link rel="prefetch" href="/skills-docs/assets/js/21.470f85c3.js"><link rel="prefetch" href="/skills-docs/assets/js/22.4145e6cb.js"><link rel="prefetch" href="/skills-docs/assets/js/23.bbcb8ca9.js"><link rel="prefetch" href="/skills-docs/assets/js/24.3d7b6a3f.js"><link rel="prefetch" href="/skills-docs/assets/js/25.78fc6bb4.js"><link rel="prefetch" href="/skills-docs/assets/js/27.72d591ff.js"><link rel="prefetch" href="/skills-docs/assets/js/28.1441c101.js"><link rel="prefetch" href="/skills-docs/assets/js/29.427e2c27.js"><link rel="prefetch" href="/skills-docs/assets/js/3.65f58d27.js"><link rel="prefetch" href="/skills-docs/assets/js/30.778fc113.js"><link rel="prefetch" href="/skills-docs/assets/js/31.9e6d18b8.js"><link rel="prefetch" href="/skills-docs/assets/js/32.b79a06c5.js"><link rel="prefetch" href="/skills-docs/assets/js/33.c65811f7.js"><link rel="prefetch" href="/skills-docs/assets/js/35.2ddce34e.js"><link rel="prefetch" href="/skills-docs/assets/js/36.a07fcbeb.js"><link rel="prefetch" href="/skills-docs/assets/js/37.752faa09.js"><link rel="prefetch" href="/skills-docs/assets/js/38.26f4e8b5.js"><link rel="prefetch" href="/skills-docs/assets/js/39.766ebd41.js"><link rel="prefetch" href="/skills-docs/assets/js/4.3d51fdd2.js"><link rel="prefetch" href="/skills-docs/assets/js/45.42dd8427.js"><link rel="prefetch" href="/skills-docs/assets/js/46.283e6f52.js"><link rel="prefetch" href="/skills-docs/assets/js/47.4f124827.js"><link rel="prefetch" href="/skills-docs/assets/js/48.feb0b711.js"><link rel="prefetch" href="/skills-docs/assets/js/49.b015af40.js"><link rel="prefetch" href="/skills-docs/assets/js/5.bc988608.js"><link rel="prefetch" href="/skills-docs/assets/js/50.90fe9172.js"><link rel="prefetch" href="/skills-docs/assets/js/51.c7a4c2c6.js"><link rel="prefetch" href="/skills-docs/assets/js/52.9441ce80.js"><link rel="prefetch" href="/skills-docs/assets/js/53.feeaf0a2.js"><link rel="prefetch" href="/skills-docs/assets/js/54.62f3c6e1.js"><link rel="prefetch" href="/skills-docs/assets/js/55.c16be98c.js"><link rel="prefetch" href="/skills-docs/assets/js/56.319a12a3.js"><link rel="prefetch" href="/skills-docs/assets/js/57.427f8a3c.js"><link rel="prefetch" href="/skills-docs/assets/js/58.356115ff.js"><link rel="prefetch" href="/skills-docs/assets/js/59.bd95e176.js"><link rel="prefetch" href="/skills-docs/assets/js/6.900f50b0.js"><link rel="prefetch" href="/skills-docs/assets/js/60.df551411.js"><link rel="prefetch" href="/skills-docs/assets/js/61.bf76ff6d.js"><link rel="prefetch" href="/skills-docs/assets/js/62.57f0a985.js"><link rel="prefetch" href="/skills-docs/assets/js/63.966c69d0.js"><link rel="prefetch" href="/skills-docs/assets/js/64.502b206a.js"><link rel="prefetch" href="/skills-docs/assets/js/65.7b8b7555.js"><link rel="prefetch" href="/skills-docs/assets/js/66.06a82ebf.js"><link rel="prefetch" href="/skills-docs/assets/js/67.99d81032.js"><link rel="prefetch" href="/skills-docs/assets/js/68.0a7d954e.js"><link rel="prefetch" href="/skills-docs/assets/js/69.ef036a94.js"><link rel="prefetch" href="/skills-docs/assets/js/7.56af660d.js"><link rel="prefetch" href="/skills-docs/assets/js/70.803e1800.js"><link rel="prefetch" href="/skills-docs/assets/js/71.ade41e50.js"><link rel="prefetch" href="/skills-docs/assets/js/72.6585bd0e.js"><link rel="prefetch" href="/skills-docs/assets/js/73.82ca21b2.js"><link rel="prefetch" href="/skills-docs/assets/js/74.a8f759d4.js"><link rel="prefetch" href="/skills-docs/assets/js/75.8b164052.js"><link rel="prefetch" href="/skills-docs/assets/js/76.0a8e2cbf.js"><link rel="prefetch" href="/skills-docs/assets/js/77.7b9c68a4.js"><link rel="prefetch" href="/skills-docs/assets/js/78.1f8ab6cd.js"><link rel="prefetch" href="/skills-docs/assets/js/79.e07cfb1a.js"><link rel="prefetch" href="/skills-docs/assets/js/8.4ac5d6b5.js"><link rel="prefetch" href="/skills-docs/assets/js/80.8b1a82aa.js"><link rel="prefetch" href="/skills-docs/assets/js/81.dee2b155.js"><link rel="prefetch" href="/skills-docs/assets/js/82.d1eb508a.js"><link rel="prefetch" href="/skills-docs/assets/js/83.050d39ba.js"><link rel="prefetch" href="/skills-docs/assets/js/84.2fac5067.js"><link rel="prefetch" href="/skills-docs/assets/js/85.84211598.js"><link rel="prefetch" href="/skills-docs/assets/js/86.2ec5edf6.js"><link rel="prefetch" href="/skills-docs/assets/js/87.c5903004.js"><link rel="prefetch" href="/skills-docs/assets/js/88.70b78cbd.js"><link rel="prefetch" href="/skills-docs/assets/js/89.a8a375a6.js"><link rel="prefetch" href="/skills-docs/assets/js/9.f8a10286.js">
    <link rel="stylesheet" href="/skills-docs/assets/css/0.styles.09b6ee83.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/skills-docs/" class="home-link router-link-active"><!----> <span class="site-name">SkillTree Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/skills-docs/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/skills-docs/dashboard/install-guide/" class="nav-link router-link-active">
  Install Guide
</a></div><div class="nav-item"><a href="/skills-docs/dashboard/user-guide/" class="nav-link">
  Dashboard User Guide
</a></div><div class="nav-item"><a href="/skills-docs/skills-client/" class="nav-link">
  Integration Guide
</a></div><div class="nav-item"><a href="/skills-docs/contribution/" class="nav-link">
  Contribute
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/skills-docs/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/skills-docs/dashboard/install-guide/" class="nav-link router-link-active">
  Install Guide
</a></div><div class="nav-item"><a href="/skills-docs/dashboard/user-guide/" class="nav-link">
  Dashboard User Guide
</a></div><div class="nav-item"><a href="/skills-docs/skills-client/" class="nav-link">
  Integration Guide
</a></div><div class="nav-item"><a href="/skills-docs/contribution/" class="nav-link">
  Contribute
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/skills-docs/overview/" class="sidebar-link">Overview</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Install Guide</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/skills-docs/dashboard/install-guide/" aria-current="page" class="sidebar-link">Overview</a></li><li><a href="/skills-docs/dashboard/install-guide/quickStart.html" class="sidebar-link">Quick Start</a></li><li><a href="/skills-docs/dashboard/install-guide/distributions.html" class="sidebar-link">Distributions</a></li><li><a href="/skills-docs/dashboard/install-guide/devInstall.html" class="sidebar-link">Development Installation</a></li><li><a href="/skills-docs/dashboard/install-guide/prodInstall.html" class="sidebar-link">Production Installation</a></li><li><a href="/skills-docs/dashboard/install-guide/config.html" aria-current="page" class="active sidebar-link">Configuration</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/skills-docs/dashboard/install-guide/config.html#how-to-configure-jar-based-install" class="sidebar-link">How to configure Jar-based install</a></li><li class="sidebar-sub-header"><a href="/skills-docs/dashboard/install-guide/config.html#how-to-configure-docker-based-install" class="sidebar-link">How to configure Docker-based install</a></li><li class="sidebar-sub-header"><a href="/skills-docs/dashboard/install-guide/config.html#configuration-properties-catalog" class="sidebar-link">Configuration Properties Catalog</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/skills-docs/dashboard/install-guide/config.html#dashboard-project-and-skill-definitions" class="sidebar-link">Dashboard Project and Skill Definitions</a></li><li class="sidebar-sub-header"><a href="/skills-docs/dashboard/install-guide/config.html#dashboard-user-account-thresholds-pass-auth-mode-only" class="sidebar-link">Dashboard: User Account Thresholds (Pass Auth Mode Only)</a></li><li class="sidebar-sub-header"><a href="/skills-docs/dashboard/install-guide/config.html#skilltree-documentation-link" class="sidebar-link">SkillTree Documentation Link</a></li><li class="sidebar-sub-header"><a href="/skills-docs/dashboard/install-guide/config.html#dashboard-input-validation" class="sidebar-link">Dashboard: Input Validation</a></li><li class="sidebar-sub-header"><a href="/skills-docs/dashboard/install-guide/config.html#latency-profiling" class="sidebar-link">Latency Profiling</a></li><li class="sidebar-sub-header"><a href="/skills-docs/dashboard/install-guide/config.html#database" class="sidebar-link">Database</a></li><li class="sidebar-sub-header"><a href="/skills-docs/dashboard/install-guide/config.html#websocket-stomp-broker" class="sidebar-link">WebSocket Stomp Broker</a></li><li class="sidebar-sub-header"><a href="/skills-docs/dashboard/install-guide/config.html#jvm-heap" class="sidebar-link">JVM Heap</a></li><li class="sidebar-sub-header"><a href="/skills-docs/dashboard/install-guide/config.html#gc-logging" class="sidebar-link">GC Logging</a></li><li class="sidebar-sub-header"><a href="/skills-docs/dashboard/install-guide/config.html#redis-httpstore" class="sidebar-link">Redis HttpStore</a></li><li class="sidebar-sub-header"><a href="/skills-docs/dashboard/install-guide/config.html#https-ssl-pass-auth-mode-only" class="sidebar-link">https SSL (Pass Auth Mode Only)</a></li><li class="sidebar-sub-header"><a href="/skills-docs/dashboard/install-guide/config.html#_2-way-ssl-pki-mode-only" class="sidebar-link">2-way SSL (PKI Mode Only)</a></li><li class="sidebar-sub-header"><a href="/skills-docs/dashboard/install-guide/config.html#user-info-service-pki-mode-only" class="sidebar-link">User Info Service (PKI Mode Only)</a></li><li class="sidebar-sub-header"><a href="/skills-docs/dashboard/install-guide/config.html#oauth-support-pass-auth-mode-only" class="sidebar-link">OAuth Support (Pass Auth Mode Only)</a></li><li class="sidebar-sub-header"><a href="/skills-docs/dashboard/install-guide/config.html#spring-boot-properties" class="sidebar-link">Spring Boot Properties</a></li></ul></li></ul></li><li><a href="/skills-docs/dashboard/install-guide/database.html" class="sidebar-link">Database</a></li><li><a href="/skills-docs/dashboard/install-guide/installModes.html" class="sidebar-link">Installation Modes</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Dashboard User Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Integration Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Open Source Contributions</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Release Notes</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="configuration"><a href="#configuration" class="header-anchor">#</a> Configuration</h1> <p>Out-of-the-box the SkillTree service (skills-service) comes packaged with smart defaults that are designed to work well for
development and prototyping. In this section we'll discuss how to configure each distribution type followed by the catalog of available options.</p> <p>There are two official types of distributions:</p> <ul><li>Jar-based: hosted on <a href="https://github.com/NationalSecurityAgency/skills-service/releases/latest" target="_blank" rel="noopener noreferrer">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Docker: hosted on <a href="https://hub.docker.com/r/skilltree/skills-service" target="_blank" rel="noopener noreferrer">DockerHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>There are generally two types of configuration properties:</p> <ul><li><em>Application properties</em> - passed to the application</li> <li><em>JVM System properties</em> - passed to JVM via <code>-D</code> or <code>-X</code> on the command line</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Application properties conventions:</p> <ul><li>SkillTree specific properties start with a <strong>skills.</strong> prefix</li> <li>Spring Boot specific properties start with a <strong>spring.</strong> prefix
<ul><li>skills-service is a Spring Boot application</li></ul></li></ul></div> <p>Table of Contents:
</p><div class="table-of-contents"><ul><li><a href="#how-to-configure-jar-based-install">How to configure Jar-based install</a></li><li><a href="#how-to-configure-docker-based-install">How to configure Docker-based install</a></li><li><a href="#configuration-properties-catalog">Configuration Properties Catalog</a><ul><li><a href="#dashboard-project-and-skill-definitions">Dashboard Project and Skill Definitions</a></li><li><a href="#dashboard-user-account-thresholds-pass-auth-mode-only">Dashboard: User Account Thresholds (Pass Auth Mode Only)</a></li><li><a href="#skilltree-documentation-link">SkillTree Documentation Link</a></li><li><a href="#dashboard-input-validation">Dashboard: Input Validation</a></li><li><a href="#latency-profiling">Latency Profiling</a></li><li><a href="#database">Database</a></li><li><a href="#websocket-stomp-broker">WebSocket Stomp Broker</a></li><li><a href="#jvm-heap">JVM Heap</a></li><li><a href="#gc-logging">GC Logging</a></li><li><a href="#redis-httpstore">Redis HttpStore</a></li><li><a href="#https-ssl-pass-auth-mode-only">https SSL (Pass Auth Mode Only)</a></li><li><a href="#_2-way-ssl-pki-mode-only">2-way SSL (PKI Mode Only)</a></li><li><a href="#user-info-service-pki-mode-only">User Info Service (PKI Mode Only)</a></li><li><a href="#oauth-support-pass-auth-mode-only">OAuth Support (Pass Auth Mode Only)</a></li><li><a href="#spring-boot-properties">Spring Boot Properties</a></li></ul></li></ul></div><p></p> <h2 id="how-to-configure-jar-based-install"><a href="#how-to-configure-jar-based-install" class="header-anchor">#</a> How to configure Jar-based install</h2> <p>Pass in <strong>Application properties</strong> at the end, each property should start with <code>--</code> (double dash), for example:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>java -jar ~/Downloads/skills-service-X.X.X.jar <span class="token punctuation">\</span>
--spring.datasource.url<span class="token operator">=</span>jdbc:postgresql://<span class="token operator">&lt;</span>host<span class="token operator">&gt;</span>:5432/skills <span class="token punctuation">\</span>
--spring.datasource.username<span class="token operator">=</span><span class="token operator">&lt;</span>username<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
--spring.datasource.password<span class="token operator">=</span><span class="token operator">&lt;</span>pass<span class="token operator">&gt;</span>
</code></pre></div><p>Pass in <strong>JVM System properties</strong> before <code>-jar</code>, using <code>-D</code> or <code>-X</code> prefix, for example:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>java -Xmx2G -Xms2G -jar ~/Downloads/skills-service-X.X.X.jar
</code></pre></div><h2 id="how-to-configure-docker-based-install"><a href="#how-to-configure-docker-based-install" class="header-anchor">#</a> How to configure Docker-based install</h2> <p>The Docker-based install uses environment variables to configure Application and System properties:</p> <ul><li><em>SPRING_PROPS</em> - Application properties</li> <li><em>EXTRA_JAVA_OPTS</em> - System properties</li></ul> <p>The following example configures Application properties</p> <div class="language-bash extra-class"><pre class="language-bash"><code>docker run --name skills-service -d -p <span class="token number">8080</span>:8080 <span class="token punctuation">\</span>
-e <span class="token assign-left variable">SPRING_PROPS</span><span class="token operator">=</span><span class="token string">&quot;\
spring.datasource.url=jdbc:postgresql://&lt;host&gt;:5432/skills,\
spring.datasource.username=&lt;username&gt;,\
spring.datasource.password=&lt;password&gt;&quot;</span> <span class="token punctuation">\</span>
skilltree/skills-service:<span class="token operator">&lt;</span>version<span class="token operator">&gt;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Multiple properties are separated by a comma</p></div> <p>This example configures both Application and System properties:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>docker run --name skills-service -d -p <span class="token number">8080</span>:8080 <span class="token punctuation">\</span>
-e <span class="token assign-left variable">SPRING_PROPS</span><span class="token operator">=</span><span class="token string">&quot;\
spring.datasource.url=jdbc:postgresql://&lt;host&gt;:5432/skills,\
spring.datasource.username=&lt;username&gt;,\
spring.datasource.password=&lt;password&gt;&quot;</span> <span class="token punctuation">\</span>
-e <span class="token assign-left variable">EXTRA_JAVA_OPTS</span><span class="token operator">=</span><span class="token string">&quot;-Xmx2G -Xms2G&quot;</span> <span class="token punctuation">\</span>
skilltree/skills-service:<span class="token operator">&lt;</span>version<span class="token operator">&gt;</span>
</code></pre></div><h2 id="configuration-properties-catalog"><a href="#configuration-properties-catalog" class="header-anchor">#</a> Configuration Properties Catalog</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>All of these properties are Application properties unless explicitly specified otherwise.</p></div> <h3 id="dashboard-project-and-skill-definitions"><a href="#dashboard-project-and-skill-definitions" class="header-anchor">#</a> Dashboard Project and Skill Definitions</h3> <p>Limit number of items that a Dashboard user can create:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># Maximum projects that a single user can be administrator for</span>
<span class="token attr-name">skills.config.ui.maxProjectsPerAdmin</span><span class="token punctuation">=</span><span class="token attr-value">25</span>
<span class="token comment"># Maximum number of subjects in a project</span>
<span class="token attr-name">skills.config.ui.maxSubjectsPerProject</span><span class="token punctuation">=</span><span class="token attr-value">25</span>
<span class="token comment"># Maximum number of badges in a project</span>
<span class="token attr-name">skills.config.ui.maxBadgesPerProject</span><span class="token punctuation">=</span><span class="token attr-value">25</span>
<span class="token comment"># Maximum number of skills in a project</span>
<span class="token attr-name">skills.config.ui.maxSkillsPerSubject</span><span class="token punctuation">=</span><span class="token attr-value">100</span>
</code></pre></div><p>When a project is first created it may not have enough total points to calculate a sensible levels breakdown.<br>
Therefore, Skill Events cannot be applied until a minimum amount of points have been created for a project/subject as specified by these properties:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># Must create at least 100 points for project </span>
<span class="token comment"># before skill events are applied</span>
<span class="token attr-name">skills.config.ui.minimumSubjectPoints</span><span class="token punctuation">=</span><span class="token attr-value">100</span>
<span class="token comment"># Must create at least 100 points for each </span>
<span class="token comment"># subject before skill events are applied </span>
<span class="token comment"># for skills under this subject</span>
<span class="token attr-name">skills.config.ui.minimumProjectPoints</span><span class="token punctuation">=</span><span class="token attr-value">100</span>
</code></pre></div><p>Skill definition thresholds:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># Skill's Time Window threshold: Maximum number of minutes that can be assigned </span>
<span class="token comment"># to skill's Time Window property (default: 43,200 minutes = 30 days)</span>
<span class="token attr-name">skills.config.ui.maxTimeWindowInMinutes</span><span class="token punctuation">=</span><span class="token attr-value">43200</span>

<span class="token comment"># Maximum assignable skill version</span>
<span class="token attr-name">skills.config.ui.maxSkillVersion</span><span class="token punctuation">=</span><span class="token attr-value">999</span>
<span class="token comment"># maximum point increment for a skill</span>
<span class="token attr-name">skills.config.ui.maxPointIncrement</span><span class="token punctuation">=</span><span class="token attr-value">10000</span>
<span class="token comment"># maximum number of iterations required to complete a skill</span>
<span class="token attr-name">skills.config.ui.maxNumPerformToCompletion</span><span class="token punctuation">=</span><span class="token attr-value">10000</span>
<span class="token comment"># maximum number of occurrences within a time window</span>
<span class="token attr-name">skills.config.ui.maxNumPointIncrementMaxOccurrences</span><span class="token punctuation">=</span><span class="token attr-value">999</span>
</code></pre></div><h3 id="dashboard-user-account-thresholds-pass-auth-mode-only"><a href="#dashboard-user-account-thresholds-pass-auth-mode-only" class="header-anchor">#</a> Dashboard: User Account Thresholds (Pass Auth Mode Only)</h3> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># Maximum number of characters for the first name </span>
<span class="token attr-name">skills.config.ui.maxFirstNameLength</span><span class="token punctuation">=</span><span class="token attr-value">30</span>
<span class="token comment"># Maximum number of characters for the last name</span>
<span class="token attr-name">skills.config.ui.maxLastNameLength</span><span class="token punctuation">=</span><span class="token attr-value">30</span>
<span class="token comment"># Maximum number of characters for the nick name</span>
<span class="token attr-name">skills.config.ui.maxNicknameLength</span><span class="token punctuation">=</span><span class="token attr-value">70</span>
<span class="token comment"># Minimum number of characters for the user name</span>
<span class="token attr-name">skills.config.ui.minUsernameLength</span><span class="token punctuation">=</span><span class="token attr-value">5</span>
<span class="token comment"># Minimum number of characters for the password</span>
<span class="token attr-name">skills.config.ui.minPasswordLength</span><span class="token punctuation">=</span><span class="token attr-value">8</span>
<span class="token comment"># Maximum number of characters for the password</span>
<span class="token attr-name">skills.config.ui.maxPasswordLength</span><span class="token punctuation">=</span><span class="token attr-value">40</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>These attributes are not applicable to the PKI Mode and will be ignored if PKI Mode is enabled</p></div> <h3 id="skilltree-documentation-link"><a href="#skilltree-documentation-link" class="header-anchor">#</a> SkillTree Documentation Link</h3> <p>Root URL of SkillTree documentation:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token attr-name">skills.config.ui.docsHost</span><span class="token punctuation">=</span><span class="token attr-value">https://code.nsa.gov/skills-docs</span>
</code></pre></div><h3 id="dashboard-input-validation"><a href="#dashboard-input-validation" class="header-anchor">#</a> Dashboard: Input Validation</h3> <p>Here are some basic thresholds that are applied at the Dashboard UI and the backend:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># Maximum number of characters for a description (ex. Subject, Badge, Skill, etc..)</span>
<span class="token attr-name">skills.config.ui.descriptionMaxLength</span><span class="token punctuation">=</span><span class="token attr-value">2000</span>

<span class="token comment"># Minimum number of characters for the name (ex. Subject, Badge, Skill, etc..) </span>
<span class="token attr-name">skills.config.ui.minNameLength</span><span class="token punctuation">=</span><span class="token attr-value">3</span>
<span class="token comment"># Maximum number of characters for Badge's name</span>
<span class="token attr-name">skills.config.ui.maxBadgeNameLength</span><span class="token punctuation">=</span><span class="token attr-value">50</span>
<span class="token comment"># Maximum number of characters for Project's name</span>
<span class="token attr-name">skills.config.ui.maxProjectNameLength</span><span class="token punctuation">=</span><span class="token attr-value">50</span>
<span class="token comment"># Maximum number of characters for Skill's name</span>
<span class="token attr-name">skills.config.ui.maxSkillNameLength</span><span class="token punctuation">=</span><span class="token attr-value">100</span>
<span class="token comment"># Maximum number of characters for Subject's name</span>
<span class="token attr-name">skills.config.ui.maxSubjectNameLength</span><span class="token punctuation">=</span><span class="token attr-value">50</span>
<span class="token comment"># Maximum number of characters for Level's name</span>
<span class="token attr-name">skills.config.ui.maxLevelNameLength</span><span class="token punctuation">=</span><span class="token attr-value">50</span>
<span class="token comment"># Minimum number of characters for id (ex. Subject, Badge, Skill, etc..)</span>
<span class="token attr-name">skills.config.ui.minIdLength</span><span class="token punctuation">=</span><span class="token attr-value">3</span>
<span class="token comment"># Maximum number of characters for id (ex. Subject, Badge, Skill, etc..)</span>
<span class="token attr-name">skills.config.ui.maxIdLength</span><span class="token punctuation">=</span><span class="token attr-value">50</span>
</code></pre></div><p>Regex based validation for Name and Description <em>(this validation is not enabled by default)</em>:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># Regular expression that each paragraph in the description must comply with</span>
<span class="token attr-name">skills.config.ui.paragraphValidationRegex</span><span class="token punctuation">=</span>
<span class="token comment"># Message to display if regex validation fails</span>
<span class="token attr-name">skills.config.ui.paragraphValidationMessage</span><span class="token punctuation">=</span>

<span class="token comment"># Regular expression that a name (ex. Subject, Badge, Skill, etc..) must comply with</span>
<span class="token attr-name">skills.config.ui.nameValidationRegex</span><span class="token punctuation">=</span>
<span class="token comment"># Message to display if regex validation fails</span>
<span class="token attr-name">skills.config.ui.nameValidationMessage</span><span class="token punctuation">=</span>
</code></pre></div><h3 id="latency-profiling"><a href="#latency-profiling" class="header-anchor">#</a> Latency Profiling</h3> <p><code>skills-service</code> comes with built-in latency profiling of its endpoints, to enable:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># Enable profiling</span>
<span class="token attr-name">skills.prof.enabled</span><span class="token punctuation">=</span><span class="token attr-value">true</span>
<span class="token comment"># Profiling is only generated if endpoint's performance exceeds this number of milliseconds</span>
<span class="token attr-name">skills.prof.minMillisToPrint</span><span class="token punctuation">=</span><span class="token attr-value">500</span>
</code></pre></div><p>SkillTree profiling uses the <a href="https://github.com/NationalSecurityAgency/call-stack-profiler" target="_blank" rel="noopener noreferrer">Call Stack Profiler<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> library</p> <h3 id="database"><a href="#database" class="header-anchor">#</a> Database</h3> <p>Configure DB:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token attr-name">spring.datasource.url</span><span class="token punctuation">=</span>
<span class="token attr-name">spring.datasource.username</span><span class="token punctuation">=</span>
<span class="token attr-name">spring.datasource.password</span><span class="token punctuation">=</span>
</code></pre></div><p>Please visit the <a href="/skills-docs/dashboard/install-guide/database.html">Database Section</a> for more information.</p> <h3 id="websocket-stomp-broker"><a href="#websocket-stomp-broker" class="header-anchor">#</a> WebSocket Stomp Broker</h3> <p>Configure external WebSocket Stomp Broker:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token attr-name">skills.websocket.enableStompBrokerRelay</span><span class="token punctuation">=</span><span class="token attr-value">true</span>
<span class="token attr-name">skills.websocket.relayHost</span><span class="token punctuation">=</span>
<span class="token attr-name">skills.websocket.relayPort</span><span class="token punctuation">=</span>
</code></pre></div><h3 id="jvm-heap"><a href="#jvm-heap" class="header-anchor">#</a> JVM Heap</h3> <p>These are System Properties.</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token attr-name">-Xms2g</span> <span class="token attr-value">-Xmx2g</span>
</code></pre></div><h3 id="gc-logging"><a href="#gc-logging" class="header-anchor">#</a> GC Logging</h3> <p>These are System Properties.</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token attr-name">-Xlog</span><span class="token punctuation">:</span><span class="token attr-value">gc=debug:file=./gc.log:time,uptime,level,tags:filecount=5,filesize=100m</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Generally gc logging is only enabled in development deployments.</p></div> <h3 id="redis-httpstore"><a href="#redis-httpstore" class="header-anchor">#</a> Redis HttpStore</h3> <p>Required for clustered skills-service deployment to persist HttpSession:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token attr-name">spring.session.store-type</span><span class="token punctuation">=</span><span class="token attr-value">redis</span>
<span class="token attr-name">spring.redis.host</span><span class="token punctuation">=</span><span class="token attr-value">localhost</span>
<span class="token attr-name">spring.redis.password</span><span class="token punctuation">=</span>
<span class="token attr-name">spring.redis.port</span><span class="token punctuation">=</span><span class="token attr-value">6379 </span>
</code></pre></div><p>Further customization:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># can specify duration suffix but if omitted then it defaults to seconds</span>
<span class="token attr-name">server.servlet.session.timeout</span><span class="token punctuation">=</span> 
<span class="token comment"># Flush mode.</span>
<span class="token attr-name">spring.session.redis.flush-mode</span><span class="token punctuation">=</span><span class="token attr-value">on_save </span>
<span class="token comment"># Stores session namespace to use for the keys</span>
<span class="token attr-name">spring.session.redis.namespace</span><span class="token punctuation">=</span><span class="token attr-value">spring:session </span>
</code></pre></div><h3 id="https-ssl-pass-auth-mode-only"><a href="#https-ssl-pass-auth-mode-only" class="header-anchor">#</a> https SSL (Pass Auth Mode Only)</h3> <div class="content__default" data-v-5b51558b><p>Configure <code>https</code>:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token attr-name">server.port</span><span class="token punctuation">=</span><span class="token attr-value">8443</span>
<span class="token attr-name">server.ssl.enabled</span><span class="token punctuation">=</span><span class="token attr-value">true</span>
<span class="token attr-name">server.ssl.key-store-type</span><span class="token punctuation">=</span><span class="token attr-value">PKCS12</span>
<span class="token attr-name">server.ssl.key-store</span><span class="token punctuation">=</span><span class="token attr-value">/path/to/keystore.p12</span>
<span class="token attr-name">server.ssl.key-store-password</span><span class="token punctuation">=</span>

<span class="token comment"># Force TLSv1.2 until https://bugs.openjdk.java.net/browse/JDK-8241248 is fixed</span>
<span class="token attr-name">server.ssl.enabled-protocols</span><span class="token punctuation">=</span><span class="token attr-value">TLSv1.2</span>
</code></pre></div></div> <h3 id="_2-way-ssl-pki-mode-only"><a href="#_2-way-ssl-pki-mode-only" class="header-anchor">#</a> 2-way SSL (PKI Mode Only)</h3> <div class="content__default" data-v-5b51558b><p>Configure <code>https</code> and 2-way SSL:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token attr-name">server.port</span><span class="token punctuation">=</span><span class="token attr-value">8443</span>
<span class="token attr-name">server.ssl.enabled</span><span class="token punctuation">=</span><span class="token attr-value">true</span>
<span class="token attr-name">server.ssl.client-auth</span><span class="token punctuation">=</span><span class="token attr-value">want</span>
	
<span class="token comment"># Force TLSv1.2 until https://bugs.openjdk.java.net/browse/JDK-8241248 is fixed</span>
<span class="token attr-name">server.ssl.enabled-protocols</span><span class="token punctuation">=</span><span class="token attr-value">TLSv1.2</span>

<span class="token comment"># keystore</span>
<span class="token attr-name">server.ssl.key-store</span><span class="token punctuation">=</span><span class="token attr-value">/certs/keystore.p12</span>
<span class="token attr-name">server.ssl.key-store-password</span><span class="token punctuation">=</span>
<span class="token attr-name">server.ssl.keyStoreType</span><span class="token punctuation">=</span><span class="token attr-value">PKCS12</span>

<span class="token comment"># truststore</span>
<span class="token attr-name">server.ssl.trust-store</span><span class="token punctuation">=</span><span class="token attr-value">/certs/truststore.p12</span>
<span class="token attr-name">server.ssl.trust-store-password</span><span class="token punctuation">=</span>
<span class="token attr-name">server.ssl.trustStoreType</span><span class="token punctuation">=</span><span class="token attr-value">PKCS12</span>
</code></pre></div></div> <h3 id="user-info-service-pki-mode-only"><a href="#user-info-service-pki-mode-only" class="header-anchor">#</a> User Info Service (PKI Mode Only)</h3> <p><code>User Info Service</code> client properties:
<div class="content__default" data-v-5b51558b><div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># To retrieve user info by DN</span>
<span class="token attr-name">skills.authorization.userInfoUri</span><span class="token punctuation">=</span><span class="token attr-value">https://&lt;host&gt;:&lt;port&gt;/userInfo?dn={dn}</span>
<span class="token comment"># Used by dashboard dropdowns to suggest existing users</span>
<span class="token attr-name">skills.authorization.userQueryUri</span><span class="token punctuation">=</span><span class="token attr-value">https://&lt;host&gt;:&lt;port&gt;/userQuery?query={query}</span>
<span class="token comment"># skills-service checks the health of User Info Service</span>
<span class="token attr-name">skills.authorization.userInfoHealthCheckUri</span><span class="token punctuation">=</span><span class="token attr-value">https://&lt;host&gt;:&lt;port&gt;/actuator/health</span>
</code></pre></div></div></p> <p>If <code>User Info Service</code> utilizes 2-way SSL then add the following client authentication properties (Java System Properties):
<div class="content__default" data-v-5b51558b><div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># Keystore</span>
<span class="token attr-name">-Djavax.net.ssl.keyStore</span><span class="token punctuation">=</span><span class="token attr-value">/certs/keystore.p12</span>
<span class="token attr-name">-Djavax.net.ssl.keyStoreType</span><span class="token punctuation">=</span><span class="token attr-value">PKCS12</span>
<span class="token attr-name">-Djavax.net.ssl.keyStorePassword</span><span class="token punctuation">=</span>

<span class="token comment"># Truststore</span>
<span class="token attr-name">-Djavax.net.ssl.trustStore</span><span class="token punctuation">=</span><span class="token attr-value">/certs/truststore.p12</span>
<span class="token attr-name">-Djavax.net.ssl.trustStoreType</span><span class="token punctuation">=</span><span class="token attr-value">PKCS12</span>
<span class="token attr-name">-Djavax.net.ssl.trustStorePassword</span><span class="token punctuation">=</span>
</code></pre></div></div></p> <p>If you are running with self-signed certs you can optionally disable host verification (development only):</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token attr-name">skills.disableHostnameVerifier</span><span class="token punctuation">=</span><span class="token attr-value">false</span>
</code></pre></div><h3 id="oauth-support-pass-auth-mode-only"><a href="#oauth-support-pass-auth-mode-only" class="header-anchor">#</a> OAuth Support (Pass Auth Mode Only)</h3> <div class="content__default" data-v-5b51558b><p>When using Password Auth Mode, the dashboard can also support OAuth2 based authentication.
Currently, OAuth2 is only supported for Google and GitHub user accounts.  Google and/or GitHub login buttons get automatically added to the Login page when configured.  To configure, you will need a client ID and client Secret credentials.  These credentials can be created and managed through the providers OAuth management pages found here: <a href="https://console.developers.google.com/apis/credentials" target="_blank" rel="noopener noreferrer">Google<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and <a href="https://github.com/settings/developers" target="_blank" rel="noopener noreferrer">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>Once the client ID and secret are setup, they are enabled by adding the following properties:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token attr-name">security.oauth2.client.registration.google.client-id</span><span class="token punctuation">:</span> <span class="token attr-value">&lt;Google client id here&gt;</span>
<span class="token attr-name">security.oauth2.client.registration.google.client-secret</span><span class="token punctuation">:</span> <span class="token attr-value">&lt;Google client secret here&gt;</span>
<span class="token attr-name">security.oauth2.client.registration.google.redirectUriTemplate</span><span class="token punctuation">:</span> <span class="token attr-value">'http://&lt;SkillTree Dashboard Host&gt;/{action}/oauth2/code/{registrationId}'</span>
<span class="token attr-name">security.oauth2.client.registration.google.iconClass</span><span class="token punctuation">:</span> <span class="token attr-value">fab fa-google</span>

<span class="token attr-name">security.oauth2.client.registration.github.client-id</span><span class="token punctuation">:</span> <span class="token attr-value">&lt;GitHub client id here&gt;</span>
<span class="token attr-name">security.oauth2.client.registration.github.client-secret</span><span class="token punctuation">:</span> <span class="token attr-value">&lt;GitHub client secret here&gt;</span>
<span class="token attr-name">security.oauth2.client.registration.github.redirectUriTemplate</span><span class="token punctuation">:</span> <span class="token attr-value">'http://&lt;SkillTree Dashboard Host&gt;/{action}/oauth2/code/{registrationId}'</span>
<span class="token attr-name">security.oauth2.client.registration.github.iconClass</span><span class="token punctuation">:</span> <span class="token attr-value">fab fa-github</span>
</code></pre></div><p>Excluding either one of the Google or GitHub configuration sections will prevent the respective OAuth login button from being added to the Login page.</p></div> <h3 id="spring-boot-properties"><a href="#spring-boot-properties" class="header-anchor">#</a> Spring Boot Properties</h3> <p><code>skills-service</code> is a Spring Boot application and will respect the majority (if not all) of Spring Boot configuration properties.<br>
Here is the complete list of available <a href="https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#data-properties" target="_blank" rel="noopener noreferrer">Spring Boot Properties<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2/23/2021, 3:42:37 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/skills-docs/assets/js/app.effe5c7a.js" defer></script><script src="/skills-docs/assets/js/2.fee212d9.js" defer></script><script src="/skills-docs/assets/js/44.251040f8.js" defer></script><script src="/skills-docs/assets/js/26.ea6a84f3.js" defer></script><script src="/skills-docs/assets/js/40.c215b94e.js" defer></script><script src="/skills-docs/assets/js/41.8dc17d7f.js" defer></script><script src="/skills-docs/assets/js/42.56b65437.js" defer></script><script src="/skills-docs/assets/js/43.b7e73091.js" defer></script><script src="/skills-docs/assets/js/34.449249da.js" defer></script>
  </body>
</html>
